pre-commit:
  commands:
    nodejs:
      glob: "backend_nodejs/**/*.{ts,tsx,js,jsx}"
      stage_fixed: true
      run: |
        cd backend_nodejs
        npm install
        npm run check
        npm test
    golang:
      glob: "backend_golang/**/*.go"
      stage_fixed: true
      run: |
        cd backend_golang
        go mod tidy
        go fmt ./...
        go vet ./...
        go test ./...
    python:
      glob: "backend_python/**/*.py"
      stage_fixed: true
      run: |
        cd backend_python
        uv run ruff format .
        uv run ruff check .
    rust:
      glob: "backend_rust/**/*.{rs,toml}"
      stage_fixed: true
      run: |
        cd backend_rust
        cargo fmt
        cargo clippy -- -D warnings
        cargo test
    bun:
      glob: "frontend_bun/**/*.{ts,tsx,js,jsx}"
      stage_fixed: true
      run: |
        cd frontend_bun
        biome format --write src
        biome check src
        bun test src
